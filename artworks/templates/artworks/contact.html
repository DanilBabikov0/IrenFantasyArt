{% extends 'artworks/base.html' %}
{% load static %}

{% block title %}Контакты | IrenFantasyArt{% endblock %}

{% block meta_description %}
Связь с художником Ириной Бабиковой. Покупка картин напрямую, консультация и подбор работы. Заказы картин.
{% endblock %}

{% block meta_keywords %}контакты, связаться, заказать картину, сотрудничество, художник{% endblock %}

{% block og_title %}Контакты | IrenFantasyArt{% endblock %}
{% block og_description %}Свяжитесь с художницей. Электронная почта, Telegram. Заказы на картины, консультации.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Заголовок -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="page-title">Контакты</h1>
            <p class="page-subtitle">Свяжитесь со мной для заказа картин, консультаций или сотрудничества</p>
        </div>
    </div>

    <!-- Основные контакты -->
    <div class="row mb-5">
        <div class="col-lg-8">
            <div class="contacts-grid mb-5">
                <!-- Email -->
                <div class="contact-card card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <div class="contact-icon-large mb-4">
                            <i class="bi bi-envelope-fill text-primary"></i>
                        </div>
                        <h3 class="h5 mb-3">Электронная почта</h3>
                        <p class="text-muted mb-3">Для заказов и вопросов</p>
                        <div class="d-grid">
                            <a href="mailto:{{ EMAIL_ADDRESS }}" class="btn btn-primary">
                                <i class="bi bi-envelope me-2"></i>Написать письмо
                            </a>
                        </div>
                        <div class="mt-3">
                            <p class="mb-0">
                                <small class="text-muted">
                                    <i class="bi bi-clock me-1"></i>Отвечаю в течение 24 часов
                                </small>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Telegram -->
                <div class="contact-card card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <div class="contact-icon-large mb-4">
                            <i class="bi bi-telegram text-primary"></i>
                        </div>
                        <h3 class="h5 mb-3">Telegram</h3>
                        <p class="text-muted mb-3">Быстрое общение и консультации</p>
                        <div class="d-grid">
                            <a href="{{ TELEGRAM_LINK }}" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
                                <i class="bi bi-telegram me-2"></i>Написать в Telegram
                            </a>
                        </div>
                        <div class="mt-3">
                            <p class="mb-0">
                                <small class="text-muted">
                                    <i class="bi bi-lightning-charge me-1"></i>Обычно отвечаю быстрее
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Аккордеон FAQ -->
            <div class="card border-0 shadow-sm mb-5">
                <div class="card-body p-4">
                    <h2 class="section-title mb-4">Часто задаваемые вопросы</h2>
                    
                    <div class="accordion" id="faqAccordion">
                        <!-- Вопрос 1 -->
                        <div class="accordion-item border-0 mb-3">
                            <h3 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    Можно ли заказать картину по моей идее?
                                </button>
                            </h3>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Да, конечно! Я с удовольствием реализую вашу идею. Пришлите описание, референсы или скетчи, и мы обсудим детали.
                                </div>
                            </div>
                        </div>

                        <!-- Вопрос 2 -->
                        <div class="accordion-item border-0 mb-3">
                            <h3 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Какие техники и материалы используются?
                                </button>
                            </h3>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Я работаю с акрилом, маслом, акварелью на холсте и бумаге. Также есть опыт в цифровой живописи. Материалы подбираются под конкретную задачу.
                                </div>
                            </div>
                        </div>

                        <!-- Вопрос 3 -->
                        <div class="accordion-item border-0 mb-3">
                            <h3 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Есть ли доставка в другие города/страны?
                                </button>
                            </h3>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Да, отправляю картины по всему миру с надежной упаковкой. Стоимость доставки рассчитывается индивидуально в зависимости от размера и пункта назначения.
                                </div>
                            </div>
                        </div>

                        <!-- Вопрос 4 -->
                        <div class="accordion-item border-0 mb-3">
                            <h3 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    Какой срок выполнения заказа?
                                </button>
                            </h3>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Сроки зависят от сложности работы и загруженности. Обычно от 2 до 4 недель. При срочном заказе обсуждается индивидуально.
                                </div>
                            </div>
                        </div>

                        <!-- Вопрос 5 -->
                        <div class="accordion-item border-0">
                            <h3 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    Можно ли посмотреть картину вживую перед покупкой?
                                </button>
                            </h3>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Да, по предварительной договорённости можно организовать просмотр в Москве. Для других городов отправляю дополнительные фото и видео по запросу.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Правая колонка: информация -->
        <div class="col-lg-4">
            <div class="info-card card border-0 shadow-sm sticky-top">
                <div class="card-body p-4">
                    <h3 class="h5 mb-4">Информация</h3>
                    
                    <div class="info-item d-flex mb-4">
                        <div class="info-icon me-3">
                            <i class="bi bi-clock text-primary fs-5"></i>
                        </div>
                        <div>
                            <h4 class="h6 mb-1">Время ответа</h4>
                            <p class="text-muted small mb-0">Обычно в течение 24 часов</p>
                        </div>
                    </div>

                    <div class="info-item d-flex mb-4">
                        <div class="info-icon me-3">
                            <i class="bi bi-calendar-check text-primary fs-5"></i>
                        </div>
                        <div>
                            <h4 class="h6 mb-1">Сроки выполнения</h4>
                            <p class="text-muted small mb-0">от 2 до 4 недель</p>
                        </div>
                    </div>

                    <div class="info-item d-flex mb-4">
                        <div class="info-icon me-3">
                            <i class="bi bi-truck text-primary fs-5"></i>
                        </div>
                        <div>
                            <h4 class="h6 mb-1">Доставка</h4>
                            <p class="text-muted small mb-0">По всему миру</p>
                        </div>
                    </div>

                    <div class="info-item d-flex mb-4">
                        <div class="info-icon me-3">
                            <i class="bi bi-chat-dots text-primary fs-5"></i>
                        </div>
                        <div>
                            <h4 class="h6 mb-1">Консультации</h4>
                            <p class="text-muted small mb-0">Бесплатно</p>
                        </div>
                    </div>

                    <div class="info-item d-flex">
                        <div class="info-icon me-3">
                            <i class="bi bi-credit-card text-primary fs-5"></i>
                        </div>
                        <div>
                            <h4 class="h6 mb-1">Оплата</h4>
                            <p class="text-muted small mb-0">Картой, переводом, наличными</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Горизонтальный ряд популярных картин -->
    {% if popular_artworks %}
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="section-title mb-4">Популярные картины</h2>
            
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for artwork in popular_artworks %}
                    <div class="scroll-item">
                        <a href="{{ artwork.get_absolute_url }}" class="card-link">
                            <div class="card border-0 shadow-sm h-100">
                                {% if artwork.images.all %}
                                    <div class="card-img-wrapper">
                                        <img src="{{ artwork.images.first.image.url }}" 
                                             class="card-img-top" 
                                             alt="{{ artwork.title }}" 
                                             loading="lazy">
                                    </div>
                                {% else %}
                                    <div class="card-img-top bg-light d-flex align-items-center justify-content-center" 
                                         style="height: 200px;">
                                        <i class="bi bi-image text-muted fs-1"></i>
                                    </div>
                                {% endif %}
                                <div class="card-body">
                                    <h6 class="card-title mb-1">{{ artwork.title|truncatechars:25 }}</h6>
                                    <p class="text-muted small mb-2">
                                        {{ artwork.get_dimensions }} • {{ artwork.created_year }}
                                    </p>
                                    <div class="mt-3">
                                        <span class="text-primary fw-bold">
                                            {{ artwork.get_price_display }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Горизонтальный ряд популярных постов -->
    {% if popular_posts %}
    <div class="row">
        <div class="col-12">
            <h2 class="section-title mb-4">Популярные посты</h2>
            
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for post in popular_posts %}
                    <div class="scroll-item">
                        <a href="{{ post.get_absolute_url }}" class="card-link">
                            <div class="card border-0 shadow-sm h-100">
                                {% if post.image %}
                                    <div class="card-img-wrapper">
                                        <img src="{{ post.image.url }}" 
                                             class="card-img-top" 
                                             alt="{{ post.title }}" 
                                             loading="lazy">
                                    </div>
                                {% else %}
                                    <div class="card-img-top bg-light d-flex align-items-center justify-content-center" 
                                         style="height: 150px;">
                                        <i class="bi bi-file-text text-muted fs-1"></i>
                                    </div>
                                {% endif %}
                                <div class="card-body">
                                    <h6 class="card-title mb-1">{{ post.title|truncatechars:30 }}</h6>
                                    <p class="text-muted small mb-2">
                                        <i class="bi bi-calendar3 me-1"></i>
                                        {{ post.created_at|date:"d.m.Y" }}
                                    </p>
                                    <p class="card-text small mb-3">{{ post.excerpt|truncatechars:80|default:"" }}</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="text-muted small">
                                            <i class="bi bi-eye me-1"></i>{{ post.views }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}