{% extends 'artworks/base.html' %}
{% load static %}

{% block title %}Обо мне | IrenFantasyArt{% endblock %}

{% block meta_description %}
Художник Ирина Бабикова. Авторские картины маслом и пастелью для интерьера. Покупка напрямую у автора.
{% endblock %}

{% block meta_keywords %}художник, творчество, картины, пастель, арт, живопись{% endblock %}

{% block og_title %}Обо мне | IrenFantasyArt{% endblock %}
{% block og_description %}Автор картин маслом и пастелью. Оригинальные работы для интерьера.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/about.css' %}">
{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Заголовок страницы -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="page-title">Обо мне</h1>
            <p class="page-subtitle">Творческий путь и вдохновение</p>
        </div>
    </div>

    <!-- Основной контент-->
    <div class="row mb-5">
        <!-- Левая колонка: фото и биография -->
        <div class="col-lg-8 mb-4 mb-lg-0">
            <div class="author-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="row">
                        <div class="col-md-5 text-center mb-4 mb-md-0">
                            <img src="{% static 'images/author.jpg' %}" 
                                 alt="Фотография Ирины" 
                                 class="author-photo img-fluid rounded-circle"
                                 width="250"
                                 height="250"
                                 loading="lazy">
                        </div>
                        <div class="col-md-7">
                            <div class="biography-text">
                                <p>Привет, друзья, меня зовут Ирина, я художник!</p>
                                
                                <p>Позвольте представить вам коллекцию моих картин, созданных с использованием масла и пастели.</p>
                                
                                <p>Я не профессиональный художник, я инженер. Но это не помешало мне исследовать и раскрыть свои творческие способности.</p>
                                
                                <p>Не судите строго! Я ищу в этом своем новом хобби самовыражение, пытаюсь поймать и передать свои мысли и эмоции. Но знаете, я уверена, что картины — это не просто красивые цветочки на стене. Каждая моя работа — это проявление меня, моих мыслей и эмоций. Я надеюсь, что вы сможете это почувствовать и найдёте в моих творениях что-то, что созвучно вашим собственным чувствам.</p>
                                
                                <p>А ещё я расскажу вам, как инженер стал художником. Знаете, что самое интересное? Когда я начала рисовать, я поняла, что искусство — это как инженерная задача. Нужно найти идеальное сочетание цветов, форм и линий, чтобы создать что-то уникальное и красивое. И я уверена, что мои картины — это результат не только моих творческих способностей, но и моего инженерного мышления.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Правая колонка: контакты -->
        <div class="col-lg-4">
            <div class="contacts-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <h2 class="section-title mb-4">Свяжитесь со мной</h2>
                    
                    <div class="contact-item d-flex align-items-start mb-4">
                        <div class="contact-icon me-3">
                            <i class="bi bi-envelope-fill text-primary fs-4"></i>
                        </div>
                        <div>
                            <h3 class="h6 mb-1">Электронная почта</h3>
                            <a href="mailto:{{ EMAIL_ADDRESS }}" 
                               class="contact-link text-decoration-none">
                                {{ EMAIL_ADDRESS }}
                            </a>
                        </div>
                    </div>
                    
                    <div class="contact-item d-flex align-items-start mb-4">
                        <div class="contact-icon me-3">
                            <i class="bi bi-telegram text-primary fs-4"></i>
                        </div>
                        <div>
                            <h3 class="h6 mb-1">Telegram</h3>
                            <a href="{{ TELEGRAM_LINK }}" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="contact-link text-decoration-none">
                                {{ TELEGRAM_USERNAME }}
                            </a>
                        </div>
                    </div>
                    
                    <div class="mt-4 pt-3 border-top">
                        <div class="buy-places-card p-3 rounded">
                            <h4 class="h6 mb-2">Где купить работы</h4>
                            <p class="small mb-1">Кроме этого сайта:</p>
                            <ul class="list-unstyled mb-0">
                                <li><i class="bi bi-check-circle-fill text-success me-2"></i><a href="{{ AVITO_LINK }}">Авито</a></li>
                                <li><i class="bi bi-check-circle-fill text-success me-2"></i><a href="{{ YARMARKA_LINK }}">Ярмарка мастеров</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock me-1"></i>Отвечаю в течение 24 часов
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Преимущества и процесс покупки (поменяны местами) -->
    <div class="row mb-5">
        <!-- Чем мои работы удобны (теперь слева) -->
        <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="advantages-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <h2 class="section-title mb-4">Чем мои работы удобны</h2>
                    
                    <div class="advantage-item mb-3">
                        <div class="advantage-icon">
                            <i class="bi bi-house-check-fill text-success"></i>
                        </div>
                        <div class="advantage-content">
                            <h4>Идеально подходят для современных интерьеров</h4>
                        </div>
                    </div>
                    
                    <div class="advantage-item mb-3">
                        <div class="advantage-icon">
                            <i class="bi bi-rulers text-success"></i>
                        </div>
                        <div class="advantage-content">
                            <h4>Можно подобрать картину по помещению и размеру</h4>
                        </div>
                    </div>
                    
                    <div class="advantage-item mb-3">
                        <div class="advantage-icon">
                            <i class="bi bi-gift-fill text-success"></i>
                        </div>
                        <div class="advantage-content">
                            <h4>Дарить удобно - хранить и перевозить легко</h4>
                        </div>
                    </div>
                    
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i class="bi bi-star-fill text-success"></i>
                        </div>
                        <div class="advantage-content">
                            <h4>Каждая работа существует в единственном экземпляре</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Как проходит покупка (теперь справа) -->
        <div class="col-lg-6">
            <div class="purchase-process-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <h2 class="section-title mb-4">Как проходит покупка</h2>
                    
                    <div class="purchase-step mb-3">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Картина готова</h4>
                            <p class="text-muted mb-0">Вы видите её именно на фото</p>
                        </div>
                    </div>
                    
                    <div class="purchase-step mb-3">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Обсуждаем покупку</h4>
                            <p class="text-muted mb-0">В Telegram или по почте</p>
                        </div>
                    </div>
                    
                    <div class="purchase-step mb-3">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Оплата</h4>
                            <p class="text-muted mb-0">Переводом на карту</p>
                        </div>
                    </div>
                    
                    <div class="purchase-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Отправка</h4>
                            <p class="text-muted mb-0">С надёжной упаковкой</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Блок с картинками процесса -->
    <div class="row mb-5">
        <div class="col-12 mb-4">
            <h2 class="section-title">Процесс создания</h2>
            <p class="text-muted">От замысла до готовой картины</p>
        </div>
        
        <div class="col-md-6 mb-4 mb-md-0">
            <div class="process-image-card card border-0 shadow-sm h-100">
                <div class="card-img-wrapper">
                    <img src="{% static 'images/process_1.jpg' %}" 
                         class="card-img-top" 
                         alt="Пастелью на бумаге"
                         loading="lazy">
                </div>
                <div class="card-body text-center">
                    <h4>Пастелью на бумаге</h4>
                    <p class="text-muted">Тонкие переходы цвета и фактура</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="process-image-card card border-0 shadow-sm h-100">
                <div class="card-img-wrapper">
                    <img src="{% static 'images/process_2.jpg' %}" 
                         class="card-img-top" 
                         alt="Маслом на холсте"
                         loading="lazy">
                </div>
                <div class="card-body text-center">
                    <h4>Маслом на холсте</h4>
                    <p class="text-muted">Богатая фактура и долговечность</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Горизонтальный ряд популярных картин -->
    {% if popular_artworks %}
    <div class="row">
        <div class="col-12">
            <h2 class="section-title mb-4">Популярные картины</h2>
            
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for artwork in popular_artworks %}
                    <div class="scroll-item">
                        <a href="{{ artwork.get_absolute_url }}" class="card-link">
                            <div class="card border-0 shadow-sm h-100">
                                {% if artwork.images.all %}
                                    <div class="card-img-wrapper">
                                        <img src="{{ artwork.images.first.image.url }}" 
                                             class="card-img-top" 
                                             alt="{{ artwork.title }}" 
                                             loading="lazy">
                                    </div>
                                {% else %}
                                    <div class="card-img-top bg-light d-flex align-items-center justify-content-center" 
                                         style="height: 200px;">
                                        <i class="bi bi-image text-muted fs-1"></i>
                                    </div>
                                {% endif %}
                                <div class="card-body">
                                    <h6 class="card-title mb-1">{{ artwork.title|truncatechars:25 }}</h6>
                                    <p class="text-muted small mb-2">
                                        {{ artwork.get_dimensions }} • {{ artwork.created_year }}
                                    </p>
                                    <div class="mt-3">
                                        <span class="text-primary fw-bold">
                                            {{ artwork.get_price_display }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <!-- Если нет популярных картин, показываем кнопку перехода в каталог -->
    <div class="row">
        <div class="col-12 text-center py-5">
            <i class="bi bi-palette display-1 text-muted mb-3"></i>
            <h3 class="h4 mb-3">Посмотрите каталог картин</h3>
            <a href="{% url 'catalog' %}" class="btn btn-primary btn-lg">
                <i class="bi bi-palette me-2"></i>Перейти в каталог
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Проверка изображений процесса создания
    const processImages = document.querySelectorAll('.process-image-card img');
    
    processImages.forEach(img => {
        // Проверяем, загрузилось ли изображение
        if (img.complete && img.naturalHeight === 0) {
            // Изображение не загрузилось
            img.src = "{% static 'images/placeholder.jpg' %}";
            img.classList.add('placeholder-img');
        }
    });
});
</script>
{% endblock %}